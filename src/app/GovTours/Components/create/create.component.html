<div class="create-dialog" [class.rtl]="i18n.isRTL">

    <!-- ===== Header ===== -->
    <div class="dialog-header">
        <div class="title-wrap">
            <mat-icon class="title-icon">tour</mat-icon>
            <h2>
                {{ i18n.currentLang === 'ar'
                ? 'إضافة جولة حكومية'
                : 'Create Government Tour' }}
            </h2>
        </div>

        <button mat-icon-button class="close-btn" (click)="close()">
            <mat-icon>close</mat-icon>
        </button>
    </div>

    <!-- ===== Content ===== -->
    <form [formGroup]="form" class="dialog-content">

        <!-- Date -->
        <mat-form-field appearance="outline">
            <mat-label>
                {{ 'GOV_TOURS.DATE' | translate | async }} *
            </mat-label>

            <input matInput [matDatepicker]="picker" formControlName="date" placeholder="شهر / يوم / سنة">

            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <!-- Title AR -->
        <mat-form-field appearance="outline">
            <mat-icon matPrefix>title</mat-icon>
            <mat-label>
                {{ 'GOV_TOURS.TITLE_AR' | translate | async }}
            </mat-label>
            <input matInput formControlName="titleAr">
        </mat-form-field>

        <!-- Title EN -->
        <mat-form-field appearance="outline">
            <mat-icon matPrefix>title</mat-icon>
            <mat-label>
                {{ 'GOV_TOURS.TITLE_EN' | translate | async }}
            </mat-label>
            <input matInput formControlName="titleEn">
        </mat-form-field>

        <!-- Article AR -->
        <mat-form-field appearance="outline">
            <mat-icon matPrefix>description</mat-icon>
            <mat-label>
                {{ 'GOV_TOURS.ARTICLE_AR' | translate | async }}
            </mat-label>
            <textarea matInput rows="3" formControlName="articleAr"></textarea>
        </mat-form-field>

        <!-- Article EN -->
        <mat-form-field appearance="outline">
            <mat-icon matPrefix>description</mat-icon>
            <mat-label>
                {{ 'GOV_TOURS.ARTICLE_EN' | translate | async }}
            </mat-label>
            <textarea matInput rows="3" formControlName="articleEn"></textarea>
        </mat-form-field>

        <!-- Upload -->
        <div class="upload-box" (click)="fileInput.click()">

            <mat-icon>photo_camera</mat-icon>
            <span>
                {{ 'GOV_TOURS.UPLOAD_IMAGES' | translate | async }}
            </span>

            <input #fileInput type="file" multiple hidden (change)="onFilesSelected($event)">
        </div>
        <div class="image-preview" *ngIf="imagePreviews.length">
            <img *ngFor="let img of imagePreviews" [src]="img" alt="preview" />
        </div>


    </form>

    <!-- Actions -->
    <div class="dialog-actions">

        <button mat-stroked-button color="primary" (click)="close()">
            {{ 'GOV_TOURS.CANCEL' | translate | async }}
        </button>

        <button mat-raised-button color="primary" (click)="submit()" [disabled]="loading">

            <mat-icon *ngIf="!loading">check</mat-icon>

            <mat-progress-spinner *ngIf="loading" diameter="20" mode="indeterminate">
            </mat-progress-spinner>

            <span>
                {{ loading
                ? ('GOV_TOURS.SAVING' | translate | async)
                : ('GOV_TOURS.CREATE' | translate | async)
                }}
            </span>

        </button>
    </div>

</div>